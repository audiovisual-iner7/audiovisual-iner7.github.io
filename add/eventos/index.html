<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Global - Oficina de Audiovisual</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        :root {
            --brand-color: #003C7D;
            --brand-color-light: #0056b3;
            --brand-color-dark: #002a59;
        }
        .bg-brand { background-color: var(--brand-color); }
        .hover\:bg-brand-light:hover { background-color: var(--brand-color-light); }
        .border-brand { border-color: var(--brand-color); }
        .text-brand { color: var(--brand-color); }

        /* Ocultar elementos inicialmente (Copiado del Panel de Admin) */
        #adminPanel {
            display: none;
        }
        
        /* Animación suave para mostrar el panel (Copiado del Panel de Admin) */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Estilos del logo (Copiado del Panel de Admin) */
        .header-logo {
            height: 50px;
            width: auto;
            max-width: 137px;
            object-fit: contain;
        }
        @media (max-width: 768px) {
            .header-logo {
                height: 40px;
                max-width: 110px;
            }
        }
        .header-content {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .task-card {
            border-left-width: 4px;
            transition: all 0.2s ease-in-out;
        }

        .task-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen flex flex-col">

    <header class="bg-brand shadow-md">
        <div class="container mx-auto px-6 py-4">
            <div class="header-content">
                <a href="../panel/index.html"><img src="../img/logo iner blanco-04.png" alt="Logo Institucional" class="header-logo"></a> 
                <div class="flex-1">
                    <a href="index.html"><h1 class="text-2xl font-bold text-white">Dashboard de Eventos</h1></a>
                </div>
                
                <div class="relative" id="navMenu">
                    <button id="menuBtn" type="button" class="inline-flex items-center gap-x-1.5 rounded-md bg-brand px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-brand-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand focus:ring-white">
                        <span>Menú</span>
                        <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    
                    <div id="dropdownMenu" class="hidden absolute right-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none transition ease-out duration-100"
                        role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
                        <div class="py-1" role="none">
                            <a href="../panel/" class="text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100" role="menuitem" tabindex="-1" id="menu-item-0">Inicio</a>
                            <a href="../entrega/" class="text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100" role="menuitem" tabindex="-1" id="menu-item-1">Entregar</a>
                            <a href="../calendario/index.html" class="text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100" role="menuitem" tabindex="-1" id="menu-item-2">Eventos</a>
                            <a href="../request/" class="text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100" role="menuitem" tabindex="-1" id="menu-item-3">Solicitudes</a>
                            <a href="../../sqr/index.html" class="text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100" role="menuitem" tabindex="-1" id="menu-item-4">QR's</a>
                            
                        </div>
                    </div>
                </div>
                
                <div id="userInfo" class="text-white text-sm hidden">
                    <span id="welcomeUser"></span>
                    <button id="logoutBtn" class="ml-4 bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm transition-colors">
                        Cerrar Sesión
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <div id="loginContainer" class="max-w-md mx-auto mt-20">
            <div class="bg-white p-8 rounded-xl shadow-lg">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">Dashboard de Eventos</h2>
                    <p class="text-gray-600">Ingrese sus credenciales para continuar</p>
                </div>
                
                <form id="loginForm" class="space-y-6">
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Usuario</label>
                        <input type="text" id="username" name="username" required 
                               class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-brand focus:border-brand" 
                               placeholder="Ingrese su usuario">
                    </div>
                    
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                        <input type="password" id="password" name="password" required 
                               class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-brand focus:border-brand" 
                               placeholder="Ingrese su contraseña">
                    </div>
                    
                    <div id="loginError" class="hidden text-red-600 text-sm text-center"></div>
                    
                    <button type="submit" id="loginBtn" 
                            class="w-full bg-brand text-white font-bold py-3 px-4 rounded-lg hover:bg-brand-light transition-colors duration-300">
                        <span id="loginBtnText">Iniciar Sesión</span>
                        <div id="loginSpinner" class="hidden inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white ml-2"></div>
                    </button>
                </form>
            </div>

        </div>
        <div id="adminPanel">
                <div class="max-w-4xl mx-auto">
                        <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-4">Registrar Nuevo Evento</h2>
                                <form id="eventosForm" class="space-y-6">
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div>
                                                <label for="fechaInicio" class="block text-sm font-medium text-gray-700">Fecha de Inicio
                                                        <span class="text-red-500">*</span></label>
                                                <input type="date" id="fechaInicio" name="fechaInicio" required
                                                        class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md">
                                                </div>
                                                <div>
                                                <label for="fechaFin" class="block text-sm font-medium text-gray-700">Fecha Fin <span
                                                        class="text-red-500">*</span></label>
                                                <input type="date" id="fechaFin" name="fechaFin" required
                                                        class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md">
                                                </div>
                                        </div>

                                        <div>
                                                <label for="tipoEvento" class="block text-sm font-medium text-gray-700">Tipo de Evento <span
                                                        class="text-red-500">*</span></label>
                                                <select id="tipoEvento" name="tipoEvento" required
                                                class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md">
                                                <option value="">Seleccione una opción</option>
                                                <option value="CEREMONIAS">CEREMONIAS</option>
                                                <option value="CIENI">CIENI</option>
                                                <option value="CONGRESO">CONGRESO</option>
                                                <option value="CURSO_MONOGRAFICO">CURSO MONOGRÁFICO</option>
                                                <option value="CURSO_MONOGRAFICO_PRESENCIAL">CURSO MONOGRÁFICO PRESENCIAL</option>
                                                <option value="EDUCACION">EDUCACIÓN PARA LA SALUD</option>
                                                <option value="JORNADAS_DE_ENFERMERIA">JORNADAS DE ENFERMERÍA</option>
                                                <option value="JORNADAS_DE_QUIMICOS">JORNADAS DE QUÍMICOS</option>
                                                <option value="JORNADAS_DE_TRABAJO_SOCIAL">JORNADAS DE TRABAJO SOCIAL</option>
                                                <option value="JORNADAS_MEDICAS">JORNADAS MÉDICAS</option>
                                                <option value="SEMINARIO_INER">SEMINARIO INER</option>
                                                <option value="SEMINARIO_INER_RESIDENTES">SEMINARIO INER RESIDENTES</option>
                                                <option value="SESION_ENFERMERIA">SESIÓN DE ENFERMERÍA</option>
                                                <option value="SESION_GENERAL">SESIÓN GENERAL</option>
                                                <option value="OTROS">OTROS</option>
                                                </select>
                                        </div>

                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div>
                                                <label for="nombreEvento" class="block text-sm font-medium text-gray-700">Nombre del Evento
                                                        <span class="text-red-500">*</span></label>
                                                <input type="text" id="nombreEvento" name="nombreEvento" required
                                                        class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md">
                                                </div>
                                                <div>
                                                <label for="sede" class="block text-sm font-medium text-gray-700">Sede <span
                                                        class="text-red-500">*</span></label>
                                                <select id="sede" name="sede" required
                                                        class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md">
                                                        <option value="">Seleccione una sede</option>
                                                        <option value="AUD.RÉBORA">AUD.RÉBORA</option>
                                                        <option value="AUD. DONATO">AUD. DONATO</option>
                                                        <option value="AUD. JIMENEZ">AUD. JIMENEZ</option>
                                                        <option value="EXPLANADA">EXPLANADA</option>
                                                        <option value="SALA DE PROFESORES 1">SALA DE PROFESORES 1</option>
                                                        <option value="SALA DE PROFESORES 2">SALA DE PROFESORES 2</option>
                                                        <option value="SALA DE PROFESORES 3">SALA DE PROFESORES 3</option>
                                                        <option value="ONLINE">ONLINE</option>
                                                        <option value="OTRO">OTRO</option>
                                                </select>
                                                </div>
                                        </div>
                                        
                                        <div>
                                                <label for="asignadoA" class="block text-sm font-medium text-gray-700">Asignar a <span
                                                        class="text-red-500">*</span></label>
                                                <select id="asignadoA" name="asignadoA" required
                                                class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md">
                                                <option value="">Seleccione un responsable</option>
                                                <option value="CARLOS">CARLOS</option>
                                                <option value="DANIEL">DANIEL</option>
                                                <option value="DIANA">DIANA</option>
                                                <option value="HILDING">HILDING</option>
                                                <option value="MARICELA">MARICELA</option>
                                                <option value="MIGUEL">MIGUEL</option>
                                                <option value="SAM">SAM</option>
                                                <option value="SCARLET">SCARLET</option>
                                                </select>
                                        </div>

                                        <div>
                                                <div class="flex flex-wrap items-center justify-between pt-6 gap-4 mb-6">
                                                <label class="block text-lg font-semibold text-gray-800">Servicios Requeridos</label>
                                                <div class="flex items-center gap-4">
                                                        <div class="flex items-center">
                                                        <input type="checkbox" id="selectAllServices"
                                                                class="h-4 w-4 text-brand focus:ring-brand border-gray-300 rounded">
                                                        <label for="selectAllServices" class="ml-2 text-sm font-medium text-gray-700">Seleccionar
                                                                todos</label>
                                                        </div>
                                                        <div id="service-counter" class="text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full font-medium">
                                                        0 servicios seleccionados
                                                        </div>
                                                </div>
                                                </div>

                                                <div id="servicesContainer" class="space-y-6">
                                                <div class="border border-gray-200 rounded-lg p-4 bg-white shadow-sm">
                                                        <h3 class="text-md font-bold text-brand mb-3">CORTINILLAS</h3>
                                                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2">
                                                        <div class="flex items-center"><input type="checkbox" value="S1" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">COORTINILLA ANIMADA GENERAL</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S2" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">CORTINILLA ASISTENCIA SESIÓN GENERAL Y ENF</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S3" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">CORTINILLA INSCRIPCIÓN</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S4" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">CORTINILLA ASISTENCIA</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S5" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">CORTINILLA EVALUACIÓN DE CALIDAD</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S6" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">CORTINILLA GENERAL</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S7" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">CORTINILLA GRADUADOS</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S8" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">CORTINILLA RECESOS</label></div>
                                                        </div>
                                                </div>

                                                <div class="border border-gray-200 rounded-lg p-4 bg-white shadow-sm">
                                                        <h3 class="text-md font-bold text-brand mb-3">DISEÑO</h3>
                                                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2">
                                                        <div class="flex items-center"><input type="checkbox" value="S9" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">BANNER VERTICAL PODIUM</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S10" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">CARTEL IMPRESIÓN</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S11" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">CARTEL REVISTA</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S12" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">ENCABEZADO DE ZOOM</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S13" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">ENCABEZADO FORMULARIOS</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S14" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">FLECHAS</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S15" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">FONDOS DE PANTALLA, VIRTUAL Y OBS</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S16" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">GAFETES</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S17" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">MAPA DE DISTRIBUCIÓN DE TALLERES</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S18" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">MOSCA</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S19" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">PLANTILLA DE PRESENTACIONES</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S20" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">POSTAL DE DIFUSIÓN</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S21" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">PROGRAMA PANTALLA LOBBY AUDITORIO RÉBORA</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S22" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">PROGRAMA: PORTADA E INTERIOR</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S23" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">SEÑALÉTICA Y QR PARA TALLERES</label></div>
                                                        </div>
                                                </div>

                                                <div class="border border-gray-200 rounded-lg p-4 bg-white shadow-sm">
                                                        <h3 class="text-md font-bold text-brand mb-3">DOCS Y OTROS</h3>
                                                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2">
                                                        <div class="flex items-center"><input type="checkbox" value="S24" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">APOYO TÉCNICO</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S25" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">DOCUMENTO DE PREGUNTAS Y COMENTARIOS</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S26" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">FORMATO TRABAJO LIBRES</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S27" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">MANUAL EXPOSITORES</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S28" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">SUPERS</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S29" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">SUPERS ORDEN DEL DIA INAUGURACIÓN Y CLAUSURA</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S30" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">SUPERS PROGRAMA</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S31" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">SUPERS SESIÓN GENERAL Y ENFERMERIA</label></div>
                                                        </div>
                                                </div>
                                                
                                                <div class="border border-gray-200 rounded-lg p-4 bg-white shadow-sm">
                                                        <h3 class="text-md font-bold text-brand mb-3">QR'S</h3>
                                                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2">
                                                        <div class="flex items-center"><input type="checkbox" value="S32" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">QR ASISTENCIA</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S33" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">QR BANDERÍN</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S34" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">QR EVALUACION DE CALIDAD</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S35" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">QR INSCRIPCIÓN</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S36" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">QR SESIÓN</label></div>
                                                        </div>
                                                </div>

                                                <div class="border border-gray-200 rounded-lg p-4 bg-white shadow-sm">
                                                        <h3 class="text-md font-bold text-brand mb-3">VIDEOS Y TRANSMISIÓN</h3>
                                                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2">
                                                        <div class="flex items-center"><input type="checkbox" value="S37" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">PROGRAMACIÓN ZOOM</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S38" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">REEL DE VIDEO DEL EVENTO</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S39" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">TRANSMITIR INSTAGRAM Y FACEBOOK</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S40" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">TRANSMISION EN YOUTUBE</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S41" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">TRANSMISION ZOOM</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S42" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">VIDEO CUENTA REGRESIVA</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S43" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">VIDEO INTRO DE PROTECCIÓN CIVIL</label></div>
                                                        <div class="flex items-center"><input type="checkbox" value="S44" class="h-4 w-4 service-checkbox"><label class="ml-2 text-sm">VIDEOS SALA DE ESPERA</label></div>
                                                        </div>
                                                </div>
                                                </div>
                                        </div>

                                        <div class="pt-4">
                                                <label for="comentarios" class="block text-sm font-medium text-gray-700">Comentarios (Opcional)</label>
                                                <textarea id="comentarios" name="comentarios" rows="3"
                                                class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-brand focus:border-brand"></textarea>
                                        </div>


                                        <div class="flex gap-4 pt-4">
                                                <button type="submit" id="submitBtn"
                                                class="flex-1 bg-brand text-white font-bold py-2 px-4 rounded-lg hover:bg-brand-light transition-colors">
                                                Registrar Evento
                                                </button>
                                                <button type="button" id="clearBtn"
                                                class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                                Limpiar
                                                </button>
                                        </div>
                                </form>
                        
                        </div>
                </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white text-center p-4 mt-12">
        <p>&copy; 2025 Instituto Nacional de Enfermedades Respiratorias INER. Todos los derechos reservados.</p>
    </footer>

    <script src="./eventos.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
                // --- MAPA DE SERVICIOS PREDEFINIDOS POR EVENTO ---
                const presetsPorEvento = {
                'SESION_GENERAL': ['S20', 'S38', 'S13', 'S9', 'S21', 'S6', 'S1', 'S2', 'S31', 'S33', 'S25', 'S43', 'S40', 'S41', 'S39', 'S24', 'S18'],
                'SESION_ENFERMERIA': ['S20', 'S38', 'S13', 'S9', 'S21', 'S6', 'S1', 'S2', 'S31', 'S33', 'S25', 'S43', 'S40', 'S41', 'S39', 'S24', 'S18'],
                'CIENI': ['S40', 'S24', 'S18'],
                'SEMINARIO_INER': ['S11', 'S20', 'S38', 'S13', 'S6', 'S25', 'S40', 'S41', 'S24', 'S19', 'S18', 'S44', 'S42', 'S37', 'S12', 'S15'],
                'CEREMONIAS': ['S20', 'S9', 'S21', 'S6', 'S7', 'S14', 'S43', 'S40', 'S41', 'S39', 'S24', 'S18'],
                'JORNADAS_DE_ENFERMERIA': ['S10', 'S11', 'S20', 'S38', 'S13', 'S22', 'S9', 'S21', 'S6', 'S1', 'S3', 'S5', 'S29', 'S30', 'S33', 'S32', 'S35', 'S34', 'S25', 'S14', 'S23', 'S26', 'S43', 'S40', 'S41', 'S39', 'S24', 'S27', 'S17', 'S19', 'S16', 'S18', 'S15'],
                'JORNADAS_DE_QUIMICOS': ['S10', 'S11', 'S20', 'S38', 'S13', 'S22', 'S9', 'S21', 'S6', 'S1', 'S3', 'S5', 'S29', 'S30', 'S33', 'S32', 'S35', 'S34', 'S25', 'S14', 'S23', 'S26', 'S43', 'S40', 'S41', 'S39', 'S24', 'S27', 'S17', 'S19', 'S16', 'S18', 'S15'],
                'CURSO_MONOGRAFICO': ['S11', 'S20', 'S38', 'S13', 'S22', 'S6', 'S41', 'S24', 'S44', 'S42', 'S37', 'S12', 'S15', 'S8'],
                'JORNADAS_MEDICAS': ['S10', 'S11', 'S20', 'S38', 'S13', 'S22', 'S9', 'S21', 'S6', 'S1', 'S3', 'S5', 'S29', 'S30', 'S33', 'S32', 'S35', 'S34', 'S25', 'S14', 'S26', 'S43', 'S40', 'S41', 'S39', 'S24', 'S27', 'S19', 'S16', 'S18', 'S15'],
                'JORNADAS_DE_TRABAJO_SOCIAL': ['S10', 'S11', 'S20', 'S38', 'S13', 'S22', 'S9', 'S21', 'S6', 'S1', 'S3', 'S5', 'S29', 'S30', 'S33', 'S32', 'S35', 'S34', 'S25', 'S14', 'S26', 'S43', 'S40', 'S41', 'S39', 'S24', 'S27', 'S19', 'S16', 'S18', 'S15'],
                'CONGRESO': ['S10', 'S11', 'S20', 'S38', 'S13', 'S22', 'S9', 'S21', 'S6', 'S1', 'S3', 'S5', 'S29', 'S30', 'S33', 'S32', 'S35', 'S34', 'S25', 'S14', 'S23', 'S26', 'S43', 'S40', 'S41', 'S39', 'S24', 'S27', 'S17', 'S19', 'S16', 'S18', 'S15'],
                'OTROS': ['S11', 'S20', 'S38', 'S13', 'S22', 'S9', 'S21', 'S6', 'S1', 'S3', 'S5', 'S29', 'S30', 'S33', 'S32', 'S35', 'S34', 'S25', 'S43', 'S40', 'S41', 'S39', 'S24', 'S19', 'S18', 'S15'],
                "CURSO_MONOGRAFICO_PRESENCIAL": ['S20', 'S38', 'S13', 'S22', 'S6', 'S3', 'S4', 'S5', 'S41', 'S19', 'S44', 'S42', 'S37', 'S12', 'S15', 'S8'],
                "SEMINARIO_INER_RESIDENTES": ['S6', 'S40', 'S41']
                };

                // --- Elementos del DOM ---
                const tipoEventoSelect = document.getElementById('tipoEvento');
                const selectAllCheckbox = document.getElementById('selectAllServices');
                const serviceCheckboxes = document.querySelectorAll('.service-checkbox');
                const serviceCounter = document.getElementById('service-counter');
                

                // --- FUNCIÓN CENTRAL PARA ACTUALIZAR LA INTERFAZ ---
                // Esta función actualiza el contador y el estado del checkbox "Seleccionar todos"
                function actualizarUI() {
                // Actualiza el contador de servicios
                const selectedCount = document.querySelectorAll('.service-checkbox:checked').length;
                serviceCounter.textContent = `${selectedCount} servicios seleccionados`;

                // Sincroniza el checkbox "Seleccionar todos"
                const totalCheckboxes = serviceCheckboxes.length;
                selectAllCheckbox.checked = totalCheckboxes > 0 && selectedCount === totalCheckboxes;
                }

                // --- 1. LÓGICA PARA "SELECCIONAR TODOS" ---
                selectAllCheckbox.addEventListener('change', function () {
                serviceCheckboxes.forEach(checkbox => {
                        checkbox.checked = selectAllCheckbox.checked;
                });
                actualizarUI();
                });

                // --- 2. LÓGICA PARA LOS CHECKBOXES INDIVIDUALES ---
                serviceCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', actualizarUI);
                });

                // --- 3. LÓGICA PARA PRE-SELECCIONAR SERVICIOS (NUEVO) ---
                tipoEventoSelect.addEventListener('change', function() {
                const eventoSeleccionado = this.value;
                const serviciosASeleccionar = presetsPorEvento[eventoSeleccionado] || [];

                // Primero, desmarcamos todos los checkboxes
                serviceCheckboxes.forEach(checkbox => {
                        checkbox.checked = false;
                });

                // Luego, marcamos solo los que corresponden al evento seleccionado
                if (serviciosASeleccionar.length > 0) {
                        serviciosASeleccionar.forEach(serviceValue => {
                        const checkbox = document.querySelector(`.service-checkbox[value="${serviceValue}"]`);
                        if (checkbox) {
                                checkbox.checked = true;
                        }
                        });
                }
                
                // Al final, actualizamos toda la interfaz (contador y "seleccionar todos")
                actualizarUI();
                });

                // Llamada inicial para que el contador y el checkbox principal estén correctos al cargar.
                actualizarUI();
        });
    </script>
</body>

</html>